<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>signup</title>
    <link rel="stylesheet" type="text/css"
          href="/css/signup.css"
          th:href="@{/css/signup.css}"  />
</head>
<body>
    <div class="container">
        <h2>Sign up</h2>
        <form action="#" method="post">
            <label for="firstname">firstname:</label>
            <input id="firstname" type="text" name="firstname" placeholder="FirstName" required>
            
            <label for="lastname">lastname:</label>
            <input id="lastname" type="text" name="lastname" placeholder="LastName" required>
            
            <label for="email">Email:</label>
            <input id="email" type="email" name="email" placeholder="Email" required>
            
            <label for="password">Password:</label>
            <input id="password" type="password" name="password" placeholder="Password" required>
            
            <label for="home-address">Address:</label>
            <input id="home-address" type="address" name="home-address" placeholder="home-address  (optional)" >
            <label for="home-city">city:</label>
            <input id="home-city" type="text" name="home-city" placeholder="city  (optional)" >
            <label for="home-state">State:</label>
            <input for="home-state" type="text" name="home-state" placeholder="state (optional)" >
            <label for="home-zipcode">zipcode:</label>
            <input for="home-zipcode" type="text" name="home-zipcode" placeholder="zipcode (optional)" >
            

            <div id="creditCardContainer">
              <!-- Credit card fields will be added here -->
            </div>
            <button type="button" id="addCreditCardButton">Add Credit Card</button>
            <div>
              <input type="checkbox" id="agreeCheckbox" name="agreeCheckbox">
              <label for="agreeCheckBox">subcribe to promotional</label>
            </div>
            <input type="submit" value="SignUp">
        </form>
      </div>
      <script>
        document.addEventListener("DOMContentLoaded", function() {
          const creditCardForm = document.getElementById("creditCardForm");
          const creditCardContainer = document.getElementById("creditCardContainer");
          const addCreditCardButton = document.getElementById("addCreditCardButton");
    
          let creditCardCount = 0;
    
          addCreditCardButton.addEventListener("click", function() {
            if (creditCardCount < 3) { // Limit to 3 credit cards
              const creditCardFields = document.createElement("div");
              creditCardFields.classList.add("credit-card-info");
              creditCardFields.dataset.card = creditCardCount + 1;
    
              creditCardFields.innerHTML = `
                <div>
                  <label for="ccn${creditCardCount + 1}">Card Number:</label>
                  <input id="ccn${creditCardCount + 1}" 
                    type="tel" 
                    inputmode="numeric" 
                    pattern="[0-9\s]{13,19}" 
                    autocomplete="cc-number" maxlength="19" 
                    placeholder="xxxx xxxx xxxx xxxx" 
                    name="cardNumber${creditCardCount + 1}" 
                    required>
                </div>
                <div>
                  <label for="expiryDate${creditCardCount + 1}">Expiry Date:</label>
                  <input type="date" id="expiryDate${creditCardCount + 1}" name="expiryDate${creditCardCount + 1}" required>
                </div>
                <div>
                  <label for="cvv${creditCardCount + 1}">CVV:</label>
                    
                  <input type="text" id="cvv${creditCardCount + 1}" 
                    type="tel" 
                    inputmode="numeric" 
                    pattern="[0-9\s]{3,4}" 
                    autocomplete="cc-number" maxlength="4" 
                    placeholder="xxxx" 
                    name="cvv${creditCardCount + 1}" 
                    required>
                </div>
                <div>
                  <label for="home-address">Address:</label>
                  <input id="home-address" type="address" name="home-address" placeholder="home-address  (optional)" >
                  <label for="home-city">city:</label>
                  <input id="home-city" type="text" name="home-city" placeholder="city  (optional)" >
                  <label for="home-state">State:</label>
                  <input for="home-state" type="text" name="home-state" placeholder="state (optional)" >
                  <label for="home-zipcode">zipcode:</label>
                  <input for="home-zipcode" type="text" name="home-zipcode" placeholder="zipcode (optional)" >
                  </div>
                <div>
                  <button type="button" class="removeCreditCardButton" data-card="${creditCardCount + 1}">Remove</button>
                </div>
              `;
              creditCardContainer.appendChild(creditCardFields);
              creditCardCount++;
            } else {
              alert("You can only add up to 3 credit cards.");
            }
          });
    
          creditCardContainer.addEventListener("click", function(event) {
            if (event.target.classList.contains("removeCreditCardButton")) {
              const cardToRemove = event.target.getAttribute("data-card");
              const cardToRemoveElement = document.querySelector(`.credit-card-info[data-card="${cardToRemove}"]`);
              creditCardContainer.removeChild(cardToRemoveElement);
              creditCardCount--;
            }
          });
    
          creditCardForm.addEventListener("submit", function(event) {
            // Perform form submission logic here
            // This is just a placeholder
            event.preventDefault();
            console.log("Form submitted!");
          });
        });
      </script>
    
</body>
</html>
